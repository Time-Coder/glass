<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">

<style type="text/css">
.stick, .stick-hover, .stick-clicked
{
    background-image: url("D:/Python385/Lib/site-packages/md2html/plugins_offline/icons/stick.png");
}
</style>

<!-- icon -->
<link rel="Shortcut Icon" href="D:/Python385/Lib/site-packages/md2html/plugins_offline/icons/note_book.png" type="image/x-icon" />

<!-- code style -->
<link rel="stylesheet" href="D:/Python385/Lib/site-packages/md2html/plugins_offline/highlight/atom-one-light.css">

<!-- layout style -->
<link rel="stylesheet" href="D:/Python385/Lib/site-packages/md2html/plugins_offline/outer.css">

<!-- elements style -->
<link rel="stylesheet" href="D:/Python385/Lib/site-packages/md2html/plugins_offline/inner.css">

<!-- code highlight -->
<script src="D:/Python385/Lib/site-packages/md2html/plugins_offline/highlight/highlight.pack.js"></script>
<script>hljs.highlightAll();</script>
<script src="D:/Python385/Lib/site-packages/md2html/plugins_offline/jquery.min.js"></script>

<script type="text/javascript" src="D:/Python385/Lib/site-packages/md2html/plugins_offline/intereactive.js"></script>
<!-- <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js'></script> -->
<script type='text/javascript' src='D:/Python385/Lib/site-packages/md2html/plugins_offline/MathJax-2.7.1/MathJax.js'></script>
<script src="D:/Python385/Lib/site-packages/md2html/plugins_offline/MathJax_config.js"></script>

<title>指数软阴影映射</title>
</head>
<body>
<div id="all">
<div id="content-index"><ul class="index">
<li><div class="item-arrow"></div><a href="#section-1">1&nbsp;&nbsp;摘要</a></li>
<li><div class="item-arrow"></div><a href="#section-2">2&nbsp;&nbsp;介绍</a></li>
</ul>
    <!-- index navigation -->
</div>
<div id="content-container">
<div id="content">
<article class="markdown-body"><h1 id="title">指数软阴影映射</h1>
<h1 id="section-1" class="h-title" >1&nbsp;&nbsp&nbsp;摘要</h1>
<p>在本文中，我们提出了一种基于图像的算法来实时渲染视觉上合理的抗锯齿软阴影。 我们的技术采用基于扩展的指数阴影映射理论 (EESM, Extended Exponential Shadow Mapping) 的新阴影预过滤方法。该算法通过对指数阴影重建函数采用最优逼近来实现忠实的接触阴影。 受益于一种新颖的无溢出求和面积表瓦片网格数据结构，数值的稳定性得以保证，错误的过滤响应得以避免。通过集成自适应各向异性滤波方法，所提出的算法可以在大半影区域和高频尖锐过渡中产生高质量的平滑阴影，同时保证廉价的内存消耗和高性能。</p>
<h1 id="section-2" class="h-title" >2&nbsp;&nbsp&nbsp;介绍</h1>
<p>柔和阴影是逼真的图像合成中的重要组成部分。实时应用程序，例如 3D 计算机游戏和虚拟现实，通常需要高质量的软阴影。然而，有效地渲染高质量的软阴影仍然是一个具有挑战性的问题。屏幕像素的软阴影值是从场景中与像素对应的点观看的扩展光源的可见性。这种可见性测试是计算密集型的。基于阴影映射及其扩展的基于图像的方法可以很好地适应场景的复杂性，逐渐成为行业的主流解决方案。其中，百分比更紧密过滤 (PCF) 由于其简单性和效率而成为最流行的一种。PCF 通过过滤给定内核中的二进制阴影测试结果来平滑阴影边缘。因此，它可以沿着硬阴影边界产生软过渡。最近，PCF 的扩展，Percentage-Closer Soft Shadows (PCSS)，被广泛采用以有效地生成视觉上合理的软阴影，并且可以轻松集成到现有的渲染系统中。PCSS 假设遮挡器/接收器是平面的并且平行于光源。对于要渲染的每个像素，PCSS 首先通过对搜索内核中小于当前像素在光空间中的深度的纹素的深度值求平均值来计算平均遮挡深度。然后通过平均遮挡深度估计半影大小。最后，通过循环半影中的所有采样点来应用 PCF。</p>
<p>由于平均遮挡深度估计和软阴影步骤的复杂性与半影大小成正比，因此当光源较大时，由于大量纹理样本，按帧速率测量的渲染效率通常可能会急剧下降。此外，基于图像的方法（如 PCSS）会遭受严重的锯齿问题。混叠现象主要有两种。当阴影贴图分辨率不足时，这些算法往往会产生锯齿状边缘。当屏幕分辨率较低时，莫尔图案会出现在高频阴影上。在本文中，我们将这两种软阴影锯齿分别表示为“阴影贴图锯齿”和“屏幕空间锯齿”。</p>
<p>指数阴影映射 (ESM) 被提出来有效地执行硬阴影抗锯齿，它采用指数函数来逼近二值阴影测试函数并应用预滤波以获得显着的加速。 ESM 理论简单易行。其低廉的内存成本和计算开销保证了其高性能。不幸的是，指数函数是一个“单界”函数。它在左侧呈指数发散，因此由于“非平面性”问题导致不正确照明的伪像。Yang 等人提出并研究了“单界”函数和“非平面性”问题的定义。前者表示仅限制阴影测试函数一侧的函数，而后者表示采用“单边界”函数作为预过滤阴影函数的问题可能会对较大的部分阴影内核产生不正确的结果。此外，很少有研究关注如何确定 ESM 函数参数 c 的值，这可能会影响近似函数的陡度。不合适的 c 可能会导致接触阴影伪影的丢失。此外，将 ESM 理论扩展到软阴影框架仍然是一个悬而未决的问题。</p>
<p>为了在恒定时间内生成任意宽度的半影，由于求和面积表 (SAT, summed-area table) 具有令人满意的滤波质量和效率，因此被广泛用作预滤波功能。 但是，SAT 只适用于低分辨率阴影贴图渲染的简单场景，因为当阴影贴图分辨率变大时，其构建开销和精度损失会急剧增加。 为了保持性能并避免 SAT 精度不稳定导致的阴影测试结果错误，目前的预滤波软阴影技术只能采用低分辨率的阴影贴图。 因此可能会出现“阴影贴图锯齿”。此外，SAT 仅支持矩形滤波器内核，这与各向异性滤波不兼容。 因此，“屏幕空间锯齿”仍然是一个需要解决的问题。</p>
<p>在本文中，我们提出了指数软阴影映射 (Exponential Soft Shadow Mapping, ESSM)，一种基于 PCSS 的预过滤软阴影技术，它采用指数函数作为阴影重建函数，以实现高质量的预过滤和廉价的空间/时间开销。所提出算法的主要贡献是：</p>
<ol>
<li>提出了一种基于 ESM 理论的新公式来估计 PCSS 框架中的平均阻塞深度，从而将 ESM 理论扩展到了软阴影渲染。</li>
<li>在光空间中采用最优的 ESM 函数参数和有效深度范围得到忠实的接触阴影。</li>
<li>微细分减轻了非平面性问题导致的不正确照明伪影。</li>
<li>设计了一种自适应无溢出的 SAT tile grid 数据结构进行预过滤，可以显着降低 SAT 精度损失和 SAT 构建计算成本。从而克服了使用 SAT 时预滤波软阴影技术的分辨率限制。</li>
<li>通过将自适应逼近方案引入抗锯齿椭球软阴影过滤内核，在 SAT 上应用高效的各向异性阴影过滤。实验结果表明，所提出的算法既可以以非常高的帧率渲染简单的类游戏场景，也可以实时高效地渲染复杂的大规模场景。产生的视觉上似是而非的软阴影平滑且抗锯齿。</li>
</ol>
    <!-- main content -->
</article>
</div>
</div>
</div>
</body>
</html>